<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Temporal Echoes</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            overflow-x: hidden; /* Prevent horizontal scroll */
        }
        /* Custom scrollbar for a cleaner look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #2d3748; /* Dark muted blue-gray */
        }
        ::-webkit-scrollbar-thumb {
            background: #667eea; /* Muted indigo */
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #7f9cf5; /* Lighter indigo on hover */
        }
    </style>
</head>
<body>
    <div id="root"></div> <!-- This is where your React app will be mounted -->

    <!-- Load React and ReactDOM from CDN -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Load Babel for JSX transformation in the browser -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        // This is where your story data will now live directly in index.html
        const initialStoriesData = [
          {
            "id": "clockwork-sparrow",
            "title": "The Clockwork Sparrow",
            "subtitle": "A Victorian inventor finds a message from the future.",
            "thumbnailUrl": "https://placehold.co/600x350/5D6D7E/ffffff?text=Clockwork+Sparrow",
            "foreword": "This story explores the delicate balance between fate and free will, inspired by a peculiar antique clock.",
            "storyText": "In the bustling heart of Victorian London, Master Elias Thorne, a horologist of eccentric genius, completed his latest marvel: a life-sized clockwork sparrow. Its feathers shimmered with polished brass, and its eyes, tiny rubies, held an uncanny glint. Elias wound its delicate mechanism, expecting a chirp, a flutter. Instead, a faint, metallic whisper emanated from its beak, a voice not of gears and springs, but of static and a distant, desperate plea. 'The Convergence... prevent... the temporal cascade...' Elias, a man of logic and precision, felt a shiver that had nothing to do with the damp London air. The sparrow began to glow, its brass plumage humming with an unseen energy, and a single, crystalline tear, impossibly warm, rolled from its ruby eye. He knew, with a certainty that defied all reason, that his latest invention had just delivered a message not from his workshop, but from a future teetering on the brink of collapse."
          },
          {
            "id": "neon-rain-ancient-streets",
            "title": "Neon Rain, Ancient Streets",
            "subtitle": "A cyberpunk detective uncovers an ancient Roman secret.",
            "thumbnailUrl": "https://placehold.co/600x350/6C5B7B/ffffff?text=Neon+Rain",
            "foreword": "This neo-noir tale delves into the echoes of history found in a futuristic metropolis, where ancient secrets refuse to stay buried.",
            "storyText": "The neon signs of Neo-Rome dripped across the rain-slicked cobblestones, reflecting a dizzying kaleidoscope of corporate logos and illicit data streams. Kaelen, a synth-enhanced private eye, pulled his trench coat tighter, the collar bristling with hidden sensors. His latest case: a missing data-broker, last seen near the ruins of the Colosseum, now a skeletal shell against the hyper-modern skyline. As he navigated the ancient aqueducts, repurposed as glowing data conduits, Kaelen stumbled upon a hidden chamber beneath the old Forum. It wasn't a forgotten server farm, but a perfectly preserved Roman villa, untouched by centuries of urban sprawl. On a marble table, a holographic projection flickered, depicting a toga-clad figure manipulating intricate, glowing symbols – symbols identical to the data-broker's last known encrypted message. The rain outside intensified, a symphony of liquid light, as Kaelen realized the true nature of the 'data-broker' and the 'missing' information: a time-traveling conspiracy woven into the very fabric of Rome, from its ancient foundations to its dazzling, dystopian future."
          },
          {
            "id": "whispering-library",
            "title": "The Whispering Library",
            "subtitle": "Books from every era share secrets in a library outside time.",
            "thumbnailUrl": "https://placehold.co/600x350/4CAF50/ffffff?text=Whispering+Library",
            "foreword": "A journey into a timeless archive, where every book holds a universe of possibilities and forgotten histories.",
            "storyText": "Elara found the library by accident, stepping through a shimmering archway that appeared in a forgotten alley. Inside, shelves stretched into an impossible infinity, filled with books bound in everything from ancient papyrus to shimmering, malleable alloys. There were no librarians, only a soft, pervasive hum – the collective murmur of countless voices. Each book, when touched, would whisper its contents directly into her mind, a symphony of narratives from every conceivable era. A leather-bound tome from the 18th century recounted a duel fought with words, while a crystal tablet from the 30th detailed the ethics of sentient AI. As she wandered deeper, a particular section pulsed with a faint, melancholic light. Here, books from timelines that never fully came to be hummed with unfulfilled potential. A diary from a world where magic triumphed over science, a history text from a reality where dinosaurs never died out. Elara realized this wasn't just a library; it was a nexus, a repository of every possible past, present, and future, each story a fragile echo in the vast, whispering silence."
          }
        ];

        const { useState, useEffect, useCallback } = React;

        const App = () => {
            const [currentPage, setCurrentPage] = useState('home');
            const [stories, setStories] = useState([]);
            const [selectedStory, setSelectedStory] = useState(null);

            useEffect(() => {
                setStories(initialStoriesData); // Use the embedded data

                const handleHashChange = () => {
                    const hash = window.location.hash.substring(1);
                    if (hash && initialStoriesData.some(story => story.id === hash)) {
                        setCurrentPage('story');
                        setSelectedStory(initialStoriesData.find(story => story.id === hash));
                    } else {
                        setCurrentPage('home');
                        setSelectedStory(null);
                    }
                };

                window.addEventListener('hashchange', handleHashChange);
                handleHashChange();
                return () => {
                    window.removeEventListener('hashchange', handleHashChange);
                };
            }, []);

            const navigateToStory = useCallback((storyId) => {
                window.location.hash = storyId;
            }, []);

            const navigateToHome = useCallback(() => {
                window.location.hash = '';
                setCurrentPage('home');
                setSelectedStory(null);
            }, []);

            const Header = () => (
                <header className="bg-gray-800 shadow-lg py-4 px-6 md:px-12">
                    <nav className="container mx-auto flex justify-between items-center">
                        <a href="#" onClick={navigateToHome} className="text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400 hover:from-blue-300 hover:to-purple-300 transition-all duration-300">
                            Temporal Echoes
                        </a>
                        <ul className="flex space-x-6">
                            <li><a href="#" onClick={navigateToHome} className="text-gray-300 hover:text-blue-400 text-lg font-medium transition-colors duration-300">Home</a></li>
                            <li><a href="#stories" onClick={() => { /* Placeholder */ }} className="text-gray-300 hover:text-blue-400 text-lg font-medium transition-colors duration-300">Stories</a></li>
                            <li><a href="#about" onClick={() => { /* Placeholder */ }} className="text-gray-300 hover:text-blue-400 text-lg font-medium transition-colors duration-300">About</a></li>
                            <li><a href="#contact" onClick={() => { /* Placeholder */ }} className="text-gray-300 hover:text-blue-400 text-lg font-medium transition-colors duration-300">Contact</a></li>
                        </ul>
                    </nav>
                </header>
            );

            const Footer = () => (
                <footer className="bg-gray-800 py-8 px-6 md:px-12 text-center text-gray-400">
                    <div className="container mx-auto">
                        <p>&copy; 2025 Temporal Echoes. All rights reserved.</p>
                        <div className="flex justify-center space-x-4 mt-4">
                            <a href="#" className="hover:text-white transition-colors duration-300">Privacy Policy</a>
                            <a href="#" className="hover:text-white transition-colors duration-300">Terms of Service</a>
                        </div>
                    </div>
                </footer>
            );

            const HomePage = ({ stories, navigateToStory }) => (
                <>
                    <section className="relative h-[600px] flex items-center justify-center text-center overflow-hidden">
                        <div className="absolute inset-0 bg-black opacity-50 z-10"></div>
                        <img src="https://placehold.co/1920x600/34495e/ffffff?text=Time+Slip+Background" alt="Abstract time-slip background" className="absolute inset-0 w-full h-full object-cover z-0" />
                        <div className="relative z-20 p-8 max-w-4xl mx-auto bg-gray-800 bg-opacity-70 rounded-xl shadow-2xl backdrop-blur-sm border border-gray-700">
                            <h1 className="text-5xl md:text-6xl font-extrabold text-white leading-tight mb-4 drop-shadow-lg">
                                Where Moments Transcend Time
                            </h1>
                            <p className="text-xl md:text-2xl text-gray-300 mb-8 max-w-2xl mx-auto">
                                Explore a collection of AI-assisted flash fiction, weaving tales of past, present, and future in a single, captivating breath.
                            </p>
                            <a href="#" onClick={() => navigateToStory(stories[0]?.id || '')} className="inline-block bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition-transform duration-300 hover:scale-105">
                                Begin Your Journey
                            </a>
                        </div>
                    </section>

                    <section className="py-16 px-6 md:px-12 bg-gray-900">
                        <div className="container mx-auto">
                            <h2 className="text-4xl font-bold text-center text-white mb-12">Featured Echoes</h2>
                            {stories.length === 0 ? (
                                <p className="text-center text-xl text-gray-400">No stories found. Check back soon!</p>
                            ) : (
                                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                                    {stories.slice(0, 3).map(story => (
                                        <div key={story.id} className="bg-gray-800 rounded-xl shadow-xl overflow-hidden border border-gray-700 hover:border-blue-500 transition-all duration-300 transform hover:-translate-y-2">
                                            <img src={story.thumbnailUrl} alt={`${story.title} thumbnail`} className="w-full h-48 object-cover" />
                                            <div className="p-6">
                                                <h3 className="text-2xl font-semibold text-white mb-2">{story.title}</h3>
                                                <p className="text-gray-400 text-sm mb-4">{story.subtitle}</p>
                                                <a href="#" onClick={() => navigateToStory(story.id)} className="text-blue-400 hover:text-blue-300 font-medium transition-colors duration-300">Read More &rarr;</a>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            )}
                            <div className="text-center mt-12">
                                <a href="#stories" onClick={() => { /* Placeholder */ }} className="inline-block bg-gradient-to-r from-teal-500 to-cyan-600 hover:from-teal-600 hover:to-cyan-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition-transform duration-300 hover:scale-105">
                                    View All Stories
                                </a>
                            </div>
                        </div>
                    </section>
                </>
            );

            const StoryPage = ({ story, navigateToHome }) => {
                useEffect(() => {
                    const disableRightClick = (e) => { e.preventDefault(); };
                    document.body.style.userSelect = 'none';
                    document.body.style.webkitUserSelect = 'none';
                    document.body.style.mozUserSelect = 'none';
                    document.body.style.msUserSelect = 'none';
                    document.addEventListener('contextmenu', disableRightClick);
                    return () => {
                        document.removeEventListener('contextmenu', disableRightClick);
                        document.body.style.userSelect = '';
                        document.body.style.webkitUserSelect = '';
                        document.body.style.mozUserSelect = '';
                        document.body.style.msUserSelect = '';
                    };
                }, [story]);

                if (!story) {
                    return <div className="min-h-screen flex items-center justify-center text-gray-400 text-xl">Story not found.</div>;
                }

                return (
                    <div className="py-16 px-6 md:px-12 bg-gray-900 min-h-screen">
                        <div className="container mx-auto max-w-3xl bg-gray-800 rounded-xl shadow-2xl p-8 md:p-12 border border-gray-700">
                            <button onClick={navigateToHome} className="mb-8 text-blue-400 hover:text-blue-300 font-medium transition-colors duration-300 flex items-center">
                                &larr; Back to Home
                            </button>
                            <h1 className="text-4xl md:text-5xl font-extrabold text-white leading-tight mb-4">{story.title}</h1>
                            <p className="text-xl text-gray-400 mb-6">{story.subtitle}</p>
                            {story.foreword && ( // Display foreword if it exists
                                <div className="text-lg text-gray-400 italic mb-6 p-4 border-l-4 border-blue-500 bg-gray-700 rounded-r-lg">
                                    <p>{story.foreword}</p>
                                </div>
                            )}
                            {story.thumbnailUrl && (
                                <img src={story.thumbnailUrl} alt={`${story.title} cover`} className="w-full h-64 object-cover rounded-lg mb-8 shadow-md" />
                            )}
                            <div className="text-lg text-gray-300 leading-relaxed whitespace-pre-wrap" style={{ userSelect: 'none' }}>
                                {story.storyText}
                            </div>
                            {/* Placeholders for audio, Buy Me a Coffee, Comments */}
                        </div>
                    </div>
                );
            };

            return (
                <div className="min-h-screen bg-gray-900 text-gray-200 antialiased">
                    <Header />
                    <main>
                        {currentPage === 'home' && (
                            <HomePage stories={initialStoriesData} navigateToStory={navigateToStory} />
                        )}
                        {currentPage === 'story' && selectedStory && (
                            <StoryPage story={selectedStory} navigateToHome={navigateToHome} />
                        )}
                    </main>
                    <Footer />
                </div>
            );
        };

        // Mount the App component
        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<App />);
    </script>
</body>
</html>
